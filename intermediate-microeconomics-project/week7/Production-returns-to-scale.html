<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="UTF-8" />
  <title>Production & Returns to scale</title>

  <link rel="stylesheet" href="../assets/site.css">
  <link rel="stylesheet" href="../assets/graph.css?v=3">

  <style>
    .graph-wrapper { width: 100%; height: 100%; }
    .desmos-embed { width: 100%; height: 100%; border: 0; display: block; }
  </style>
</head>

<body class="graph-page">
  <div id="navbar-container"></div>
  <script src="../assets/navbarG-loader.js"></script>

  <!-- Import Text -->
  <script src="/intermediate-microeconomics-project/explanations.js?v=5"></script>

  <div class="container">
    <h1>Production & Returns to scale</h1>

    <!-- 1. Desmos section -->
    <section class="section">
      <div class="section-header">
        <h2>ðŸ“ˆ Interactive Graph</h2>

        <a
          class="desmos-btn"
          data-desmos-id="Production-returns-to-scale"
          target="_blank"
          rel="noopener"
        >Open in Desmos</a>
      </div>

     <div class="graph-scroll">
  <div class="graph-resizable" id="graphBox">
    <div class="graph-wrapper">
      <iframe
        class="desmos-embed"
        src="https://www.desmos.com/calculator/6mne6a1bqi?embed"
        loading="lazy"
        allowfullscreen
      ></iframe>
    </div>
    <div class="resize-handle" aria-hidden="true" title="Drag to resize"></div>
  </div>
</div>

          <div class="resize-handle" aria-hidden="true" title="Drag to resize"></div>
        </div>
      </div>
    </section>

    <!-- 2. Video section -->
    <section class="section">
      <h2>ðŸŽ¥ Video</h2>
      <div class="video-frame" data-video-id="Production-returns-to-scale"></div>
    </section>

    <!-- 3. Textbox section -->
    <section class="section">
      <h2>ðŸ“˜ Production & Returns to scale</h2>
      <div class="textbox" data-explain-id="Production-returns-to-scale"></div>
    </section>
  </div>

  <!-- Auto fill in texts -->
  <script>
    document.addEventListener("DOMContentLoaded", function () {
      const boxes = document.querySelectorAll("[data-explain-id]");
      boxes.forEach(function (box) {
        const id = box.dataset.explainId;
        if (typeof EXPLANATIONS !== "undefined" && EXPLANATIONS[id]) {
          box.innerHTML = EXPLANATIONS[id];
        } else {
          console.warn("Missing explanation for id:", id);
        }
      });
    });
  </script>

  <!-- Import Video link -->
  <script src="/intermediate-microeconomics-project/video.js"></script>
  <!--Import Desmos link-->
<script src="/intermediate-microeconomics-project/desmos-links.js"></script>

  <!--Automatically fill in text-->
<script>
document.addEventListener("DOMContentLoaded", () => {
  const btns = document.querySelectorAll("[data-desmos-id]");

  btns.forEach(btn => {
    const id = btn.dataset.desmosId;
    if (DESMOS_LINKS[id]) {
      btn.href = DESMOS_LINKS[id].url;
      btn.textContent = DESMOS_LINKS[id].title || "Open in Desmos";
    } else {
      console.warn("Missing Desmos link for:", id);
    }
  });
});
</script>
  
  <!-- Auto fill in video -->
  <script>
    document.addEventListener("DOMContentLoaded", () => {
      const containers = document.querySelectorAll("[data-video-id]");
      containers.forEach(container => {
        const id = container.dataset.videoId;
        if (typeof VIDEOS !== "undefined" && VIDEOS[id]) {
          container.innerHTML = `
            <iframe
              src="${VIDEOS[id].src}"
              title="${VIDEOS[id].title || ""}"
              allowfullscreen
            ></iframe>
          `;
        } else {
          console.warn("Missing video for:", id);
        }
      });
    });
  </script>
</body>
</html>
